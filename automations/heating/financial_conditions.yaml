# Name: financial_conditions.yaml
# Author: Sebastian Sopola @ https://www.linkedin.com/in/sebastiansopola/
# Description: This file containts the automations to evaluate financial conditions. Utilizing rules provided by blueprint.



- id: kitchen_financial_conditions
  alias: Evaluate financial conditions for kitchen
  description: Evaluate financial conditions while determining heating strategy for kitchen. Use rules provided by blueprint rooms conditions 
  use_blueprint:
    path: homeassistant/heating/financial_conditions.yaml
    input:
      user: mobile_app_sebastians_iphone
      price_trend: sensor.price_trend
      current_year_average_price: sensor.current_year_average_price
      nordpool: sensor.nordpool_kwh_fi_eur_2_10_0255
      room_name: "Kitchen"
      room_temperature: sensor.kitchen_temperature_and_humidity_sensor_temperature
      min_temperature: input_number.kitchen_min_temperature
      max_temperature: input_number.kitchen_max_temperature
      coefficient: sensor.coefficient
      outdoor_temperature: sensor.outdoor_temperature_and_humidity_sensor_temperature
      target_temperature: input_number.kitchen_target_temperature
      living_space: input_number.kitchen_living_space
      heating_schedule_start_time: input_datetime.kitchen_heating_schedule_start_time
      heating_schedule_end_time: input_datetime.kitchen_heating_schedule_end_time 
      pipeline_settings: sensor.kitchen_pipeline